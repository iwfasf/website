_m({'新密码(长度8~16)':'New Password (8~16 characters)',确认密码:'Confirm Password',重置:'Reset',密码重置失败:'',密码重置成功:'',服务器错误:'Server error'});{let r=t$('input'),t=i$('login');r[0].placeholder=_t('新密码(长度8~16)'),r[1].placeholder=_t('确认密码'),t.firstChild.innerText=_t('重置');const e=r=>{css(r,{borderColor:'#f55',background:'#fee'}),r.oninput=function(){css(this,{borderColor:'',background:''})}};t.reset=function(){this.on=!1,css(this,{background:'',pointerEvents:''})},t.onclick=function(){let t=r[0].value;if(!t||t.length<8||t.length>16)return e(r[0]);if(r[1].value!==t)return e(r[1]);let o=location.search.match(/token=(\w*)/);if(o&&(o=o[1]),o){let r=Date.now();window['c'+r]=r=>{r.error?(i$('tip').html(_t('密码重置失败')+'<br/>Error: '+r.error),this.reset()):(alert(_t('密码重置成功')),location.href='/user/login.html')},doc.body.append(Ele('script',0,0,{onerror:()=>{i$('tip').html(_t('服务器错误')),this.reset()},src:`https://api.iwfasf.com/1.1/resetPassword/${o}?password=${encodeURIComponent(t)}&callback=c${r}`})),this.on=!0,css(this,{background:'#abc',pointerEvents:'none'})}}}