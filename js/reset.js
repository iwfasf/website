_m({'新密码(长度8~16)':'New Password (8~16 characters)',确认密码:'Confirm Password',重置:'Reset',密码重置失败:'',密码重置成功:'',服务器错误:'Server error'});{let r=t$('input'),e=doc.getElementById('login');r[0].placeholder=_t('新密码(长度8~16)'),r[1].placeholder=_t('确认密码'),e.firstChild.innerText=_t('重置');const t=r=>{css(r,{borderColor:'#f55',background:'#fee'}),r.oninput=function(){css(this,{borderColor:'',background:''})}};e.reset=function(){this.on=!1,css(this,{background:'',pointerEvents:''})},e.onclick=function(){let e=r[0].value;if(!e||e.length<8||e.length>16)return t(r[0]);if(r[1].value!==e)return t(r[1]);let o=location.search.match(/token=(\w*)/);o&&(o=o[1]),o&&($.jsonp({url:'https://api.iwfasf.com/1.1/resetPassword/'+o,data:{password:e},callbackParameter:'callback',cache:!1,success:r=>{r.error?($('#tip').html(_t('密码重置失败')+'<br/>Error: '+r.error),this.reset()):(alert(_t('密码重置成功')),location.href='/user/login')},error:()=>{$('#tip').html(_t('服务器错误')),this.reset()}}),this.on=!0,css(this,{background:'#abc',pointerEvents:'none'}))}}